<!doctype html>
<html lang="en">
 <head>
  <meta charSet="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>API · Coursier</title>
  <meta name="viewport" content="width=device-width">
  <meta name="generator" content="Docusaurus">
  <meta name="description" content="<blockquote>
<p>This page describes the new high level API of coursier, being added since</p>
</blockquote>
">
  <meta name="docsearch:version" content="1.1.0-M12">
  <meta name="docsearch:language" content="en">
  <meta property="og:title" content="API · Coursier">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://get-coursier.io/">
  <meta property="og:description" content="<blockquote>
<p>This page describes the new high level API of coursier, being added since</p>
</blockquote>
">
  <meta name="twitter:card" content="summary">
  <link rel="shortcut icon" href="../../../../undefined">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
  <link rel="alternate" type="application/atom+xml" href="https://get-coursier.io/blog/atom.xml" title="Coursier Blog ATOM Feed">
  <link rel="alternate" type="application/rss+xml" href="https://get-coursier.io/blog/feed.xml" title="Coursier Blog RSS Feed">
  <script type="text/javascript" src="https://buttons.github.io/buttons.js"></script>
  <link rel="stylesheet" href="../../../../css/main.css">
  <script src="/js/codetabs.js"></script>
 </head>
 <body class="sideNavVisible separateOnPageNav">
  <div class="fixedHeaderContainer">
   <div class="headerWrapper wrapper">
    <header>
     <a href="../../../.."><h2 class="headerTitle">Coursier</h2></a>
     <a href="../../../../versions"><h3>1.1.0-M12</h3></a>
     <div class="navigationWrapper navigationSlider">
      <nav class="slidingNav">
       <ul class="nav-site nav-site-internal">
        <li class="siteNavGroupActive"><a href="../../../../docs/1.1.0-M12/overview" target="_self">Docs</a></li>
        <li class=""><a href="../../../../blog" target="_self">Blog</a></li>
        <li class=""><a href="https://github.com/coursier/coursier" target="_self">GitHub</a></li>
        <li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"></li>
       </ul>
      </nav>
     </div>
    </header>
   </div>
  </div>
  <div class="navPusher">
   <div class="docMainWrapper wrapper">
    <div class="container docsNavContainer" id="docsNav">
     <nav class="toc">
      <div class="toggleNav">
       <section class="navWrapper wrapper">
        <div class="navBreadcrumb wrapper">
         <div class="navToggle" id="navToggler">
          <div class="hamburger-menu">
           <div class="line1"></div>
           <div class="line2"></div>
           <div class="line3"></div>
          </div>
         </div>
         <h2><i>›</i><span>API</span></h2>
         <div class="tocToggler" id="tocToggler">
          <i class="icon-toc"></i>
         </div>
        </div>
        <div class="navGroups">
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">Intro</h3>
          <ul class="">
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/overview">Overview</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/overview-motivations">Motivations</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/overview-in-the-wild">Users</a></li>
          </ul>
         </div>
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">sbt plugins</h3>
          <ul class="">
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/sbt-coursier">sbt-coursier</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/sbt-pgp-coursier">sbt-pgp-coursier</a></li>
          </ul>
         </div>
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">Command-line</h3>
          <ul class="">
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-overview">Overview</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-resolve">resolve</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-fetch">fetch</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-launch">launch</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-bootstrap">bootstrap</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cli-native-bootstrap">scala-native bootstrap</a></li>
          </ul>
         </div>
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">API</h3>
          <ul class="">
           <li class="navListItem navListItemActive"><a class="navItem" href="../../../../docs/1.1.0-M12/api">API</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/api-low-level">Low-level API</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/api-scala-js">Scala.js</a></li>
          </ul>
         </div>
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">Other</h3>
          <ul class="">
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/cache">Cache</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/ttl">TTL</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/other-repositories">Repositories</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/other-proxy">Proxy</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/json-report">JSON report</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/extra">Extra</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/limitations">Limitations</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/faq">FAQ</a></li>
          </ul>
         </div>
         <div class="navGroup">
          <h3 class="navGroupCategoryTitle">Development</h3>
          <ul class="">
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/dev-contributing">Contributing</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/dev-cli">CLI</a></li>
           <li class="navListItem"><a class="navItem" href="../../../../docs/1.1.0-M12/dev-website">Website</a></li>
          </ul>
         </div>
        </div>
       </section>
      </div>
      <script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script>
     </nav>
    </div>
    <div class="container mainContainer">
     <div class="wrapper">
      <div class="post">
       <header class="postHeader">
        <a class="edit-page-link button" href="https://github.com/coursier/coursier/edit/master/doc/docs/api.md" target="_blank" rel="noreferrer noopener">Edit</a>
        <h1 class="postHeaderTitle">API</h1>
       </header>
       <article>
        <div>
         <span>
          <blockquote> 
           <p>This page describes the new high level API of coursier, being added since <code>1.1.0-M10</code>. It's still subject to source / binary compatibility breakages, even though its general outline shouldn't change much. See <a href="../../../../docs/1.1.0-M12/api-low-level">low level API</a> for the former API, less subject to change.</p> 
          </blockquote> <p>The high level API of coursier aims at being as simple to use as its <a href="../../../../docs/1.1.0-M12/cli-overview">CLI</a>, with sensible defaults in particular, while retaining the purity of the low-level API.</p> <p>It exposes a few objects under the <code>coursier</code> namespace, most notably <code>coursier.Resolve</code> and <code>coursier.Fetch</code>, allowing to resolve dependencies and fetch their artifacts.</p> <h2><a class="anchor" aria-hidden="true" id="resolve"></a><a href="index.html#resolve" aria-hidden="true" class="hash-link">
            <svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
             <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
            </svg></a>Resolve</h2> <p><code>coursier.Resolve</code> allows to run resolutions, that is finding all the transitive dependencies of some intial dependencies (while reconciling their versions at the same time).</p> <p>This entirely relies on metadata, that is POM or <code>maven-metadata.xml</code> files for Maven repositories, and <code>ivy.xml</code> files for Ivy repositories.</p> <p>If you're fine with all the defaults (cache location, resolution parameters, …), you can just resolve some dependencies with</p> <pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> coursier._

<span class="hljs-keyword">val</span> resolution = <span class="hljs-type">Resolve</span>()
  .addDependencies(<span class="hljs-string">dep"org.tpolecat:doobie-core_2.12:0.6.0"</span>)
  .run()
</code></pre> <p>This runs the resolution synchronously. To run resolutions in the background, the <code>future</code> and <code>io</code> methods can be called instead of <code>run</code>, to start resolution eagerly via <code>scala.concurrent.Future</code>, or lazily via an IO monad.</p> <p><code>resolution</code> is a <code>coursier.core.Resolution</code>, which represents the (final) state of the resolution. It has various methods allowing to process dependencies, most notably <code>minDependencies</code>, returning a set of dependencies (with redundant dependencies stripped).</p> <p>The object returned by <code>Resolve()</code> allows to optionally change a number of parameters, discussed below.</p> <h3><a class="anchor" aria-hidden="true" id="repositories"></a><a href="index.html#repositories" aria-hidden="true" class="hash-link">
            <svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
             <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
            </svg></a>Repositories</h3> <p>The default repositories are the Ivy2 local repository (only on the JVM) and <a href="https://repo1.maven.org/maven2">Maven Central</a>. More details <a href="../../../../docs/1.1.0-M12/other-repositories">here</a>. These can be overridden by passing a <code>repositories</code> parameter, like</p> <pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> coursier._
<span class="hljs-keyword">import</span> coursier.util.<span class="hljs-type">Repositories</span>

<span class="hljs-keyword">val</span> resolution = <span class="hljs-type">Resolve</span>()
  .addDependencies(<span class="hljs-string">dep"sh.almond:scala-kernel-api_2.12.8:0.2.2"</span>)
  .addRepositories(<span class="hljs-type">Repositories</span>.jitpack)
  .run()
</code></pre> <h2><a class="anchor" aria-hidden="true" id="philosophy"></a><a href="index.html#philosophy" aria-hidden="true" class="hash-link">
            <svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16">
             <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
            </svg></a>Philosophy</h2> <p>Most methods in the <code>coursier.Resolve</code> and <code>coursier.Fetch</code> objects should be referentially transparent. At the same time, in order to make them more convenient to use, plenty of their inputs have sensible default values. These default values may in turn, trigger some side-effects, like checking if some directories exist (to find the cache location), starting thread pools (to later download things from), or checking some environment variables and Java properties. If you pass all these methods inputs explicitly, not relying on default values at all, you'll recover referential transparency.</p> <p>Some methods download things, read from and write to the cache, that is perform some I/O. They return a value wrapped in an IO monad, <code>coursier.util.Task</code> by default. These methods also have sibling methods, either returning a <code>scala.concurrent.Future</code>, or returning the underlying value synchronously, so that one can just ignore any IO monad consideration if they want to. Also, any IO monad with a <code>coursier.util.Schedulable</code> instance can be used instead of the (minimalist and probably low end) <code>coursier.util.Task</code>. The <code>cats-interop</code> and <code>scalaz-interop</code> have such instances for cats-effect and scalaz 7.2.x.</p> </span>
        </div>
       </article>
      </div>
      <div class="docs-prevnext">
       <a class="docs-prev button" href="../../../../docs/1.1.0-M12/cli-native-bootstrap"><span class="arrow-prev">← </span><span>Previous</span></a>
       <a class="docs-next button" href="../../../../docs/1.1.0-M12/api-low-level"><span>Low-level API</span><span class="arrow-next"> →</span></a>
      </div>
     </div>
    </div>
    <nav class="onPageNav">
     <ul class="toc-headings">
      <li><a href="index.html#resolve">Resolve</a>
       <ul class="toc-headings">
        <li><a href="index.html#repositories">Repositories</a></li>
       </ul></li>
      <li><a href="index.html#philosophy">Philosophy</a></li>
     </ul>
    </nav>
   </div>
   <footer class="nav-footer" id="footer">
    <section class="sitemap">
     <h2><a href="../../../.." class="nav-home">Coursier</a></h2>
     <div>
      <h5><a href="../../../../docs/overview">Docs</a></h5>
      <a href="../../../../docs/overview">Overview</a>
      <a href="../../../../docs/cli-overview">Install CLI</a>
      <a href="../../../../docs/sbt-coursier">Setup sbt</a>
      <a href="../../../../docs/api">Use the API</a>
     </div>
     <div>
      <h5><a href="https://gitter.im/coursier/coursier" target="_blank">Community</a></h5>
      <a href="https://gitter.im/coursier/coursier" target="_blank"><img src="https://img.shields.io/gitter/room/coursier/coursier.svg?logo=gitter&amp;style=social"></a>
      <a href="https://github.com/coursier/coursier" target="_blank"><img src="https://img.shields.io/github/stars/coursier/coursier.svg?color=%23087e8b&amp;label=stars&amp;logo=github&amp;style=social"></a>
     </div>
     <div>
      <h5>Funding</h5>
      <a href="https://scala.epfl.ch" target="_blank"><img src="https://scala.epfl.ch/resources/img/scala-center-logo-top.png" height="40px"></a>
     </div>
    </section>
    <section class="copyright">
     Copyright © 2020 coursier contributors
    </section>
   </footer>
  </div>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
  <script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script>
  <script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script>
  <script>
              var search = docsearch({
                
                apiKey: '53a7a919d6905f94dafd59e25d0f5e5d',
                indexName: 'get-coursier',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script>
 </body>
</html>